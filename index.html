<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fashion AI App</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800">

  <!-- PAGE 1: LOGIN -->
  <section id="page1" class="min-h-screen flex flex-col items-center justify-center space-y-6">
    <h1 class="text-4xl font-bold text-indigo-600">Welcome to Fashion AI</h1>
    <form id="loginForm" class="bg-white p-6 rounded-xl shadow-md w-96 space-y-4">
      <input type="text" placeholder="Name" class="w-full px-4 py-2 border rounded-lg" required />
      <input type="email" placeholder="Email" class="w-full px-4 py-2 border rounded-lg" required />
      <input type="text" placeholder="Favorite color" class="w-full px-4 py-2 border rounded-lg" />
      <button type="submit" class="w-full bg-indigo-500 text-white py-2 rounded-lg hover:bg-indigo-600">
        Get Recommendations
      </button>
    </form>
  </section>

  <!-- PAGE 2: RECOMMENDATIONS -->
  <section id="page2" class="hidden p-6">
    <div class="flex justify-between items-center mb-4">
      <input type="text" id="searchInput" placeholder="Search clothing..." class="border px-4 py-2 rounded w-full mr-2" />
      <button onclick="goToPage('page4')" class="bg-indigo-500 text-white px-4 py-2 rounded hover:bg-indigo-600">Search</button>
    </div>
    <div class="grid grid-cols-2 gap-4">
      <div>
        <h2 class="text-xl font-semibold mb-2">Upperwear</h2>
        <div class="grid grid-cols-2 gap-2" id="upperwearGrid">
          <!-- Dynamically filled -->
        </div>
      </div>
      <div>
        <h2 class="text-xl font-semibold mb-2">Bottomwear</h2>
        <div class="grid grid-cols-2 gap-2" id="bottomwearGrid">
          <!-- Dynamically filled -->
        </div>
      </div>
    </div>
  </section>

  <!-- PAGE 3: SELECTED CLOTH DETAIL VIEW -->
  <section id="page3" class="hidden p-6">
    <button onclick="goToPage('page2')" class="mb-4 bg-gray-200 px-4 py-2 rounded">üè† Home</button>
    <div class="grid grid-cols-2 gap-4">
      <div id="selectedImageContainer" class="flex items-center justify-center bg-white rounded shadow-lg p-4">
        <!-- Selected image large -->
      </div>
      <div>
        <h3 class="text-lg font-semibold">Matching Upperwear & Bottomwear</h3>
        <div class="grid grid-cols-2 gap-2 mt-2" id="matchGrid">
          <!-- Matching items -->
        </div>
        <button onclick="goToPage('page5')" class="mt-4 bg-indigo-500 text-white px-4 py-2 rounded">üëï Try On</button>
      </div>
    </div>
  </section>

  <!-- PAGE 4: SEARCH RESULTS -->
  <section id="page4" class="hidden p-6">
    <button onclick="goToPage('page2')" class="mb-4 bg-gray-200 px-4 py-2 rounded">üè† Home</button>
    <h2 class="text-2xl font-semibold mb-4">Search Results</h2>
    <div id="searchResults" class="grid grid-cols-2 gap-4">
      <!-- Search results dynamically -->
    </div>
  </section>

  <!-- PAGE 5: VIRTUAL TRY ON -->
  <section id="page5" class="hidden p-6 text-center">
    <button onclick="goToPage('page2')" class="mb-4 bg-gray-200 px-4 py-2 rounded">üè† Home</button>
    <h2 class="text-2xl font-bold mb-4">Virtual Try-On</h2>
    <div id="tryOnImage" class="flex justify-center">
      <!-- Try on image -->
    </div>
    <div id="recommendationClone" class="grid grid-cols-2 gap-4 mt-6">
      <!-- Cloned upper & bottomwear from page 3 -->
    </div>
  </section>

  <script>
    const dummyUpperwear = [
      { id: 1, img: "https://via.placeholder.com/150?text=Top+1" },
      { id: 2, img: "https://via.placeholder.com/150?text=Top+2" },
    ];
    const dummyBottomwear = [
      { id: 3, img: "https://via.placeholder.com/150?text=Bottom+1" },
      { id: 4, img: "https://via.placeholder.com/150?text=Bottom+2" },
    ];

    function goToPage(pageId) {
      document.querySelectorAll("section").forEach(sec => sec.classList.add("hidden"));
      document.getElementById(pageId).classList.remove("hidden");
    }

    // Populate recommendations
    function populateRecommendations() {
      const upperwearGrid = document.getElementById("upperwearGrid");
      const bottomwearGrid = document.getElementById("bottomwearGrid");
      dummyUpperwear.forEach(item => {
        const img = document.createElement("img");
        img.src = item.img;
        img.className = "rounded cursor-pointer hover:scale-105 transition";
        img.onclick = () => showDetail(item.img);
        upperwearGrid.appendChild(img);
      });
      dummyBottomwear.forEach(item => {
        const img = document.createElement("img");
        img.src = item.img;
        img.className = "rounded cursor-pointer hover:scale-105 transition";
        img.onclick = () => showDetail(item.img);
        bottomwearGrid.appendChild(img);
      });
    }

    function showDetail(imgSrc) {
      goToPage("page3");
      document.getElementById("selectedImageContainer").innerHTML = `<img src="${imgSrc}" class="w-full rounded" />`;
      document.getElementById("matchGrid").innerHTML = `
        <img src="${dummyUpperwear[0].img}" class="rounded" />
        <img src="${dummyBottomwear[0].img}" class="rounded" />
      `;
    }

    function handleSearch() {
      const query = document.getElementById("searchInput").value.toLowerCase();
      const allItems = [...dummyUpperwear, ...dummyBottomwear];
      const results = allItems.filter(i => i.img.toLowerCase().includes(query));
      document.getElementById("searchResults").innerHTML = results.map(r =>
        `<img src="${r.img}" class="rounded hover:scale-105 cursor-pointer" onclick="showDetail('${r.img}')">`
      ).join('');
      goToPage('page4');
    }

    function setupTryOn() {
      document.getElementById("tryOnImage").innerHTML = `<img src="${dummyUpperwear[0].img}" class="rounded shadow-lg" />`;
      document.getElementById("recommendationClone").innerHTML = `
        <img src="${dummyUpperwear[0].img}" class="rounded" />
        <img src="${dummyBottomwear[0].img}" class="rounded" />
      `;
    }

    document.getElementById("loginForm").onsubmit = e => {
      e.preventDefault();
      goToPage("page2");
      populateRecommendations();
    };

    document.getElementById("searchInput").addEventListener("keypress", e => {
      if (e.key === "Enter") {
        e.preventDefault();
        handleSearch();
      }
    });

    window.goToPage = goToPage;
    window.showDetail = showDetail;
    window.handleSearch = handleSearch;
    window.setupTryOn = setupTryOn;
  </script>

</body>
</html>
